{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-md w-full space-y-8\"\n};\nconst _hoisted_3 = {\n  class: \"rounded-md shadow-sm -space-y-px\"\n};\nconst _hoisted_4 = [\"disabled\"];\nconst _hoisted_5 = [\"disabled\"];\nconst _hoisted_6 = {\n  key: 0,\n  class: \"rounded-md bg-red-50 p-4\"\n};\nconst _hoisted_7 = {\n  class: \"flex\"\n};\nconst _hoisted_8 = {\n  class: \"ml-3\"\n};\nconst _hoisted_9 = {\n  class: \"text-sm font-medium text-red-800\"\n};\nconst _hoisted_10 = [\"disabled\"];\nconst _hoisted_11 = {\n  key: 0,\n  class: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"-ml-1 mr-2 h-4 w-4\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  viewBox: \"0 0 24 24\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[8] || (_cache[8] = _createStaticVNode(\"<div><div class=\\\"mx-auto h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center\\\"><svg class=\\\"h-8 w-8 text-white\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" viewBox=\\\"0 0 24 24\\\"><path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\\\"></path></svg></div><h2 class=\\\"mt-6 text-center text-3xl font-extrabold text-gray-900\\\"> V2R Cheques Management </h2><p class=\\\"mt-2 text-center text-sm text-gray-600\\\"> Sign in to access your dashboard </p></div>\", 1)), _createElementVNode(\"form\", {\n    class: \"mt-8 space-y-6\",\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $setup.handleLogin && $setup.handleLogin(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    for: \"username\",\n    class: \"sr-only\"\n  }, \"Username\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    id: \"username\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.credentials.username = $event),\n    name: \"username\",\n    type: \"text\",\n    required: \"\",\n    class: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",\n    placeholder: \"Username\",\n    disabled: $setup.loading\n  }, null, 8, _hoisted_4), [[_vModelText, $setup.credentials.username]])]), _createElementVNode(\"div\", null, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    for: \"password\",\n    class: \"sr-only\"\n  }, \"Password\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.credentials.password = $event),\n    name: \"password\",\n    type: \"password\",\n    required: \"\",\n    class: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",\n    placeholder: \"Password\",\n    disabled: $setup.loading\n  }, null, 8, _hoisted_5), [[_vModelText, $setup.credentials.password]])])]), $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n    class: \"flex-shrink-0\"\n  }, [_createElementVNode(\"svg\", {\n    class: \"h-5 w-5 text-red-400\",\n    fill: \"currentColor\",\n    viewBox: \"0 0 20 20\"\n  }, [_createElementVNode(\"path\", {\n    \"fill-rule\": \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n    \"clip-rule\": \"evenodd\"\n  })])], -1)), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h3\", _hoisted_9, _toDisplayString($setup.error), 1)])])])) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $setup.loading,\n    class: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n  }, [$setup.loading ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_11, [...(_cache[6] || (_cache[6] = [_createElementVNode(\"circle\", {\n    class: \"opacity-25\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"4\"\n  }, null, -1), _createElementVNode(\"path\", {\n    class: \"opacity-75\",\n    fill: \"currentColor\",\n    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n  }, null, -1)]))])) : (_openBlock(), _createElementBlock(\"svg\", _hoisted_12, [...(_cache[7] || (_cache[7] = [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\"\n  }, null, -1)]))])), _createTextVNode(\" \" + _toDisplayString($setup.loading ? 'Signing in...' : 'Sign in'), 1)], 8, _hoisted_10)])], 32)])]);\n}","map":{"version":3,"names":["class","xmlns","fill","viewBox","stroke","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_cache","_withModifiers","args","$setup","handleLogin","_hoisted_3","for","id","credentials","username","$event","name","type","required","placeholder","disabled","loading","password","error","_hoisted_6","_hoisted_7","d","_hoisted_8","_hoisted_9","_toDisplayString","_hoisted_11","cx","cy","r","_hoisted_12"],"sources":["D:\\Workplace\\V2R\\V2R_ChequesDashboard\\client\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n    <div class=\"max-w-md w-full space-y-8\">\r\n      <div>\r\n        <div class=\"mx-auto h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center\">\r\n          <svg class=\"h-8 w-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"></path>\r\n          </svg>\r\n        </div>\r\n        <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n          V2R Cheques Management\r\n        </h2>\r\n        <p class=\"mt-2 text-center text-sm text-gray-600\">\r\n          Sign in to access your dashboard\r\n        </p>\r\n      </div>\r\n      \r\n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"handleLogin\">\r\n        <div class=\"rounded-md shadow-sm -space-y-px\">\r\n          <div>\r\n            <label for=\"username\" class=\"sr-only\">Username</label>\r\n            <input\r\n              id=\"username\"\r\n              v-model=\"credentials.username\"\r\n              name=\"username\"\r\n              type=\"text\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\r\n              placeholder=\"Username\"\r\n              :disabled=\"loading\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label for=\"password\" class=\"sr-only\">Password</label>\r\n            <input\r\n              id=\"password\"\r\n              v-model=\"credentials.password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\r\n              placeholder=\"Password\"\r\n              :disabled=\"loading\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"error\" class=\"rounded-md bg-red-50 p-4\">\r\n          <div class=\"flex\">\r\n            <div class=\"flex-shrink-0\">\r\n              <svg class=\"h-5 w-5 text-red-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\"></path>\r\n              </svg>\r\n            </div>\r\n            <div class=\"ml-3\">\r\n              <h3 class=\"text-sm font-medium text-red-800\">\r\n                {{ error }}\r\n              </h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <button\r\n            type=\"submit\"\r\n            :disabled=\"loading\"\r\n            class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            <svg v-if=\"loading\" class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n            </svg>\r\n            <svg v-else class=\"-ml-1 mr-2 h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\"></path>\r\n            </svg>\r\n            {{ loading ? 'Signing in...' : 'Sign in' }}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  setup() {\r\n    const router = useRouter()\r\n    const loading = ref(false)\r\n    const error = ref('')\r\n    \r\n    const credentials = reactive({\r\n      username: '',\r\n      password: ''\r\n    })\r\n\r\n    const handleLogin = async () => {\r\n      loading.value = true\r\n      error.value = ''\r\n      \r\n      try {\r\n        // Debug: Log what we're sending\r\n        console.log('Sending credentials:', credentials)\r\n        console.log('Credentials type:', typeof credentials)\r\n        console.log('Stringified:', JSON.stringify(credentials))\r\n        \r\n        // Ensure proper headers and data format\r\n        const response = await axios.post('/api/auth/login', credentials, {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        \r\n        if (response.data.success) {\r\n          // Store authentication token/user info\r\n          localStorage.setItem('isAuthenticated', 'true')\r\n          localStorage.setItem('user', JSON.stringify(response.data.user))\r\n          \r\n          // Redirect to dashboard\r\n          router.push('/')\r\n        } else {\r\n          error.value = response.data.message || 'Invalid credentials'\r\n        }\r\n      } catch (err) {\r\n        console.error('Login error:', err)\r\n        console.error('Error response:', err.response)\r\n        error.value = err.response?.data?.message || 'An error occurred during login'\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    return {\r\n      credentials,\r\n      loading,\r\n      error,\r\n      handleLogin\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}